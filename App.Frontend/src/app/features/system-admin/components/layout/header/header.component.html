<header class="app-header">
    <div class="header-container">
        <!-- Logo Section -->
        <div class="logo-section" (click)="navigateToHome()" role="button" tabindex="0" aria-label="Go to home">
            <span class="logo-icon">üìä</span>
            <div class="logo-text">
                <h1 class="logo-title">Manaraa</h1>
                <p class="logo-subtitle">Management System</p>
            </div>
        </div>

        <!-- Right Section -->
        <div class="header-right">
            <!-- Language Selector -->
            <div class="language-wrapper">
                <select
                    [value]="currentLanguage"
                    (change)="changeLanguage($any($event.target).value)"
                    class="language-select form-select"
                    aria-label="Change language">
                    <option value="en">EN</option>
                    <option value="ar">AR</option>
                </select>
            </div>

            <!-- User Menu Dropdown -->
            <div class="user-menu dropdown">
                <button
                    class="user-avatar dropdown-toggle"
                    id="userDropdown"
                    type="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    [attr.aria-label]="'User menu for ' + (currentUser?.name || 'User')">
                    <span class="avatar-text">{{ getInitials() }}</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                    <li class="dropdown-header">{{ currentUser?.name || 'User' }}</li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <button class="dropdown-item" (click)="navigateToProfile()">
                            <span class="item-icon">üë§</span>
                            <span>My Profile</span>
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" (click)="navigateToSettings()">
                            <span class="item-icon">‚öôÔ∏è</span>
                            <span>Settings</span>
                        </button>
                    </li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <button class="dropdown-item logout-btn" (click)="logout()" [disabled]="isLoggingOut">
                            <span class="item-icon">üö™</span>
                            <span>{{ isLoggingOut ? 'Logging out...' : 'Logout' }}</span>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</header>
